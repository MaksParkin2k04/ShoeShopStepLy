# Управление остатками товаров

## Описание функциональности

Добавлена система управления остатками товаров по размерам с следующими возможностями:

### Для клиентов:
1. **Отображение статуса наличия товара:**
   - Серая карточка товара с надписью "Нет в наличии" - товара нет совсем
   - Надпись "Осталось мало" - товара меньше 5 пар
   - Недоступные размеры отображаются серым цветом с перечеркиванием

2. **Блокировка недоступных опций:**
   - Недоступные размеры нельзя выбрать
   - Кнопка "В корзину" заблокирована для товаров не в наличии

### Для администраторов:
1. **Страница управления остатками** (`/Admin/Stock`):
   - Добавление прихода товара по размерам
   - Просмотр текущих остатков
   - Отображение статуса наличия

## Новые компоненты

### Модели:
- `ProductStock` - остатки товара по размерам
- `IProductStockRepository` - интерфейс репозитория остатков
- `ProductStockRepository` - реализация репозитория

### Сервисы:
- `StockService` - сервис управления остатками
- `ProductAvailabilityStatus` - статусы наличия товара

### Страницы:
- `/Admin/Stock` - управление остатками (только для администраторов)

## База данных

Добавлена таблица `ProductStocks`:
- `Id` - идентификатор записи
- `ProductId` - идентификатор товара
- `Size` - размер
- `Quantity` - количество

## Стили

Добавлены CSS стили в `stock-styles.css`:
- Стили для товаров не в наличии
- Стили для недоступных размеров
- Стили статуса наличия

## Использование

### Добавление прихода товара:
1. Перейти в админ панель → Остатки
2. Выбрать товар и размер
3. Указать количество
4. Нажать "Добавить приход"

### Автоматическая инициализация:
При первом запуске приложения автоматически создаются тестовые остатки для всех товаров.

## Логика работы

- **В наличии** - общее количество товара ≥ 5 пар
- **Мало товара** - общее количество товара < 5 пар, но > 0
- **Нет в наличии** - общее количество товара = 0

Размеры блокируются индивидуально - если конкретного размера нет, он становится недоступным для выбора.