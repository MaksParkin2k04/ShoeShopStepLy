using ShoeShop.Models;

namespace ShoeShop.Services
{
    public class ChatBotService
    {
        private readonly Dictionary<string, string> responses = new()
        {
            { "размер", "Для выбора размера рекомендуем измерить длину стопы. У нас есть размеры от 36 до 45. Нужна помощь с конкретной моделью?" },
            { "доставка", "Доставка по Москве - 300₽, по России - от 500₽. Бесплатная доставка при заказе от 5000₽. Срок доставки 1-3 дня." },
            { "оплата", "Принимаем оплату картой, наличными при получении, переводом на карту. Оплата безопасна и защищена." },
            { "возврат", "Возврат в течение 14 дней. Обувь должна быть в оригинальной упаковке, без следов носки." },
            { "скидка", "Сейчас действует скидка до 30% на зимнюю коллекцию! Также есть промокоды для постоянных клиентов." },
            { "качество", "Вся обувь изготовлена из натуральных материалов. Предоставляем гарантию качества 2 года." },
            { "наличие", "Проверить наличие можно на странице товара. Если размера нет, можно оформить предзаказ." },
            { "консультация", "Я помогу выбрать обувь! Расскажите, что ищете: повседневную, спортивную или классическую?" }
        };

        public string GetResponse(string message)
        {
            message = message.ToLower();
            
            foreach (var keyword in responses.Keys)
            {
                if (message.Contains(keyword))
                {
                    return responses[keyword];
                }
            }
            
            return "Спасибо за вопрос! Наш консультант свяжется с вами в ближайшее время. Или позвоните нам: +7 (999) 123-45-67";
        }
    }
}